{"ast":null,"code":"import _classCallCheck from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/SignIn/SignInBody.js\";\nimport React, { Component } from 'react';\nimport Dropdown from 'react-dropdown';\nimport classes from './SignInBody.module.css';\nimport axios from '../../axios';\nimport { Redirect, withRouter } from 'react-router-dom';\n\nvar SignInBody =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInBody, _Component);\n\n  function SignInBody() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignInBody);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignInBody)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      options: ['Manager', 'Canvasser', 'System Admin'],\n      userID: null,\n      password: null,\n      role: null,\n      loading: true\n    };\n\n    _this.onSubmitHandler = function (event) {\n      event.preventDefault();\n      var formData = {};\n      var loginInfo = {\n        userID: _this.state.userID,\n        password: _this.state.password,\n        role: _this.state.role\n      };\n      axios.post('/login.json', loginInfo).then(function (response) {\n        console.log(\"Loginned\", loginInfo); //this.props.signedIn(loginInfo);\n\n        var role = null;\n\n        if (_this.state.role == 'Manager') {\n          role = 'manager';\n        } else if (_this.state.role == 'Canvasser') {\n          role = 'canvasser';\n        } else {\n          role = 'sys-admin';\n        }\n\n        _this.props.history.push('/' + role + '/' + _this.state.userID);\n      }).catch(function (error) {\n        console.log(\"Error\", error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SignInBody, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: [classes.SignInBody, \"container\", \"text-center\"].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: classes.Title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Sign In \"), React.createElement(\"form\", {\n        className: \"form-signin\",\n        onSubmit: this.onSubmitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: [classes.InputTextWrapper, \"text-center\", \"form-group\"].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: [classes.FormControl].join(' '),\n        placeholder: \"User ID\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            userID: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: [classes.InputTextWrapper, \"text-center\", \"form-group\"].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: [classes.FormControl].join(' '),\n        placeholder: \"password\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            password: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        placeholderClassName: \"dropdown-toggle\",\n        className: [classes.Dropdown].join(' '),\n        options: this.state.options,\n        placeholder: \"Role\",\n        value: this.state.role ? this.state.role : 'Role',\n        onChange: function onChange(event) {\n          return _this2.setState({\n            role: event.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: [\"btn\", \"btn-dark\", classes.SignInBtn].join(' '),\n        type: \"submit\",\n        value: \"Sign In\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SignInBody;\n}(Component);\n\nexport default withRouter(SignInBody);","map":{"version":3,"sources":["/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/SignIn/SignInBody.js"],"names":["React","Component","Dropdown","classes","axios","Redirect","withRouter","SignInBody","state","options","userID","password","role","loading","onSubmitHandler","event","preventDefault","formData","loginInfo","post","then","response","console","log","props","history","push","catch","error","join","Title","InputTextWrapper","FormControl","setState","target","value","SignInBtn"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Dropdown from 'react-dropdown';\nimport classes from './SignInBody.module.css';\nimport axios from '../../axios'\nimport {Redirect, withRouter} from 'react-router-dom'\nclass SignInBody extends Component{\n\t\n\tstate={\n\t\toptions : ['Manager', 'Canvasser', 'System Admin'],\n\t\tuserID : null,\n\t\tpassword : null,\n\t\trole : null,\n\t\tloading:true\n\t}\n\t\n\tonSubmitHandler = (event) =>{\n\t\tevent.preventDefault();\n        const formData = {};\n\n        const loginInfo = {\n            userID : this.state.userID,\n            password: this.state.password,\n            role: this.state.role\n        }\n        \n        axios.post( '/login.json', loginInfo )\n            .then( response => {\n           \t\tconsole.log(\"Loginned\", loginInfo);\n           \t\t//this.props.signedIn(loginInfo);\n           \t\tlet role = null;\n\t\t        if(this.state.role=='Manager'){\n\t\t        \trole = 'manager';\n\t\t        }else if(this.state.role=='Canvasser'){\n\t\t        \trole = 'canvasser';\n\t\t        } else{\n\t\t        \trole = 'sys-admin';\n\t\t        }\n\n       \t\t\tthis.props.history.push('/'+role+'/'+this.state.userID);\n\n            } )\n            .catch( error => {\n                console.log(\"Error\", error);\n            });\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div className={[classes.SignInBody, \"container\", \"text-center\"].join(' ')}> \n\t\t\t\t\n\t\t\t\t<h1 className = {classes.Title}>Sign In </h1>\n\n\t\t\t\t<form className={\"form-signin\"} onSubmit = {this.onSubmitHandler}>\n\t\t\t\t\t<div className= {[classes.InputTextWrapper,\"text-center\",\"form-group\"].join(' ')}>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName = {[classes.FormControl].join(' ')}\n\t\t\t\t\t\t\tplaceholder = \"User ID\" \n\t\t\t\t\t\t\tonChange={(event) => this.setState({userID: event.target.value})}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className= {[classes.InputTextWrapper,\"text-center\",\"form-group\"].join(' ')}>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName = {[classes.FormControl].join(' ')}\n\t\t\t\t\t\t\tplaceholder = \"password\"\n\t\t\t\t\t\t\tonChange={(event) => this.setState({password: event.target.value})}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className = {\"form-group\"}>\n\t\t\t\t\t\t<Dropdown \n\t\t\t\t\t\t placeholderClassName =\"dropdown-toggle\"\n\t\t\t\t\t\t className = {[classes.Dropdown].join(' ')}\n\t\t\t\t\t     options = {this.state.options}\n\t\t\t\t\t     placeholder=\"Role\"\n\t\t\t\t\t     value={this.state.role?this.state.role:'Role'}\n\t\t\t\t\t\t onChange={(event) => this.setState({role:event.value})}/>\n\t\t\t\t\t </div>\n\t\t\t\t\t\n\t\t\t\t\t<input className = {[\"btn\",\"btn-dark\", classes.SignInBtn].join(' ')} type=\"submit\" value = \"Sign In\"/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nexport default withRouter(SignInBody);"]},"metadata":{},"sourceType":"module"}
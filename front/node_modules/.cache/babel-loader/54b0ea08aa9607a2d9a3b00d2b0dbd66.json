{"ast":null,"code":"import _classCallCheck from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/containers/Manager/TaskAssignment/TaskAssignment.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Route, Switch } from 'react-router-dom';\nimport PageHead from '../../../components/Layout/PageHead/PageHead';\nimport TaskAssignmentHead from '../../../components/Campaign/TaskAssignment/TaskAssignmentHead';\nimport TaskAssignmentList from '../../../components/Campaign/TaskAssignment/TaskAssignmentList';\nimport classes from './TaskAssignment.module.css';\nimport axios from '../../../axios';\n\nvar TaskAssignment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TaskAssignment, _Component);\n\n  function TaskAssignment() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TaskAssignment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TaskAssignment)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedCampaign: null,\n      campaigns: null,\n      tasks: null,\n      loadTasks: false\n    };\n\n    _this.selectedCampaignHandler = function (campaign) {\n      _this.setState({\n        selectedCampaign: campaign,\n        loadTasks: false\n      });\n    };\n\n    _this.tasksUpdate = function () {\n      _this.setState({\n        loadTasks: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TaskAssignment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!this.state.campaigns && this.props.campaignList) {\n        axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(function (response) {\n          var x = response.data;\n          var campaignIndexes = _this2.props.campaignList;\n          var newCampaigns = [];\n\n          for (var c in campaignIndexes) {\n            if (x) {\n              newCampaigns.push(x[campaignIndexes[c]]);\n            }\n          }\n\n          _this2.setState(function (prevState) {\n            return {\n              campaigns: newCampaigns\n            };\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      //console.log(['List componentDidUpdate'], this.props);\n      if (!this.state.campaigns && this.state.campaignList) {\n        axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(function (response) {\n          var x = response.data;\n          var campaignIndexes = _this3.state.campaignList;\n          var newCampaigns = [];\n\n          for (var c in campaignIndexes) {\n            if (x) {\n              newCampaigns.push(x[campaignIndexes[c]]);\n            }\n          }\n\n          _this3.setState(function (prevState) {\n            return {\n              campaigns: newCampaigns\n            };\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      //console.log(['componentWillReceiveProps List'], nextProps.campaignList);\n      if (!this.state.campaignList) {\n        this.setState({\n          campaignList: nextProps.campaignList\n        });\n      }\n    } //when user select a campaign, this method is called from Task Assignment Header\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(['Task Assignment'],this.state.campaigns)\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(PageHead, {\n        title: \"View Task Assignment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.TaskAssignmentHead,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(TaskAssignmentHead, {\n        campaigns: this.state.campaigns,\n        selectedCampaign: this.selectedCampaignHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.ListComponent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(TaskAssignmentList, {\n        campaign: this.state.selectedCampaign,\n        tasks: this.state.tasks,\n        updateHandler: this.tasksUpdate,\n        load: this.state.loadTasks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return TaskAssignment;\n}(Component);\n\nexport default withRouter(TaskAssignment);","map":{"version":3,"sources":["/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/containers/Manager/TaskAssignment/TaskAssignment.js"],"names":["React","Component","withRouter","Route","Switch","PageHead","TaskAssignmentHead","TaskAssignmentList","classes","axios","TaskAssignment","state","selectedCampaign","campaigns","tasks","loadTasks","selectedCampaignHandler","campaign","setState","tasksUpdate","props","campaignList","get","then","response","x","data","campaignIndexes","newCampaigns","c","push","prevState","nextProps","ListComponent"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport {withRouter, Route, Switch} from 'react-router-dom'\n\nimport PageHead from '../../../components/Layout/PageHead/PageHead'\nimport TaskAssignmentHead from '../../../components/Campaign/TaskAssignment/TaskAssignmentHead'\nimport TaskAssignmentList from '../../../components/Campaign/TaskAssignment/TaskAssignmentList'\nimport classes from './TaskAssignment.module.css'\nimport axios from '../../../axios'\nclass TaskAssignment extends Component{\n\tstate ={\n\t\tselectedCampaign: null,\n\t\tcampaigns : null,\n\t\ttasks : null,\n\t\tloadTasks : false,\n\t}\n\n\tcomponentDidMount(){\n\t\tif(!this.state.campaigns&&this.props.campaignList){\n      \n\t      axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(response=>{\n\t          let x= response.data \n\t          let campaignIndexes = this.props.campaignList;\n\t          let newCampaigns = [];\n\t          for(let c in campaignIndexes){\n\t            if(x){\n\t              newCampaigns.push(x[campaignIndexes[c]]);\n\t            }\n\t          }\n\n\t          this.setState((prevState)=>({campaigns : newCampaigns}));\n\t      });     \n\t    }\n\t}\n\n\n  componentDidUpdate(){\n    //console.log(['List componentDidUpdate'], this.props);\n    if(!this.state.campaigns&&this.state.campaignList){\n      axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(response=>{\n          let x= response.data \n          let campaignIndexes = this.state.campaignList;\n          let newCampaigns = [];\n          for(let c in campaignIndexes){\n            if(x){\n              newCampaigns.push(x[campaignIndexes[c]]);\n            }\n          }\n\n          this.setState((prevState)=>({campaigns : newCampaigns}));\n      });     \n    }\n    \n  }\n\n  componentWillReceiveProps(nextProps){\n\n    //console.log(['componentWillReceiveProps List'], nextProps.campaignList);\n\n    if(!this.state.campaignList){\n      this.setState({campaignList : nextProps.campaignList});\n    }\n  }\n\n  //when user select a campaign, this method is called from Task Assignment Header\n  selectedCampaignHandler = (campaign) =>{\n  \tthis.setState({selectedCampaign : campaign, loadTasks : false});\n  }\n\n  //when Tasks are loaded this method is called from Task AssignmentList\n  tasksUpdate = () =>{\n  \tthis.setState({loadTasks:true})\n  }\n\n\trender(){\n\t\t//console.log(['Task Assignment'],this.state.campaigns)\n\t\treturn <div>\n\t\t\t\t\t<PageHead title='View Task Assignment'/>\n\t\t\t\t\t<div className={classes.TaskAssignmentHead}>\n\t\t\t\t\t\t<TaskAssignmentHead campaigns = {this.state.campaigns} selectedCampaign={this.selectedCampaignHandler}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classes.ListComponent}>\n\t\t\t\t\t\t<TaskAssignmentList campaign = {this.state.selectedCampaign} tasks = {this.state.tasks} updateHandler = {this.tasksUpdate} load = {this.state.loadTasks}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t}\n}\n\nexport default withRouter(TaskAssignment)"]},"metadata":{},"sourceType":"module"}
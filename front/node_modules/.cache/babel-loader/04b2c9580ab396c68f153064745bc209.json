{"ast":null,"code":"import _classCallCheck from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/containers/Manager/CampaignList/CampaignList.js\";\nimport React, { Component } from \"react\";\nimport Campaign from \"../../../components/Campaign/Campaign\";\nimport PageHead from \"../../../components/Layout/PageHead/PageHead\";\nimport ViewCampaign from \"./ViewCampaign/ViewCampaign\";\nimport { withRouter, Route, Switch } from 'react-router-dom';\nimport axios from '../../../axios';\n\nvar CampaignList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CampaignList, _Component);\n\n  function CampaignList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CampaignList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CampaignList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      campaignList: _this.props.campaignList,\n      campaigns: null,\n      clicked: false,\n      index: ''\n    };\n\n    _this.campaignViewClickHandler = function (event) {\n      var target = event.target;\n      var count = target.name;\n\n      _this.setState({\n        index: count\n      });\n\n      _this.setState({\n        clicked: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CampaignList, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      console.log('[List getDerivedStateFromProps', this.props.campaignList);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(['List componentDidMount '], this.props.campaignList);\n\n      if (!this.state.campaigns && this.props.campaignList) {\n        axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(function (response) {\n          var x = response.data;\n          var campaignIndexes = _this2.props.campaignList;\n          var newCampaigns = [];\n\n          for (var c in campaignIndexes) {\n            if (x) {\n              newCampaigns.push(x[campaignIndexes[c]]);\n            }\n          }\n\n          _this2.setState(function (prevState) {\n            return {\n              campaigns: newCampaigns\n            };\n          });\n\n          _this2.props.campaignSet(newCampaigns);\n        });\n      }\n    } // componentDidUpdate(){\n    //   console.log(['List componentDidUpdate'], this.props);\n    //   if(!this.state.campaigns&&this.state.campaignList){\n    //     axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(response=>{\n    //         let x= response.data \n    //         let campaignIndexes = this.state.campaignList;\n    //         let newCampaigns = [];\n    //         for(let c in campaignIndexes){\n    //           if(x){\n    //             newCampaigns.push(x[campaignIndexes[c]]);\n    //           }\n    //         }\n    //         this.setState((prevState)=>({campaigns : newCampaigns}));\n    //         this.props.campaignSet(newCampaigns);\n    //     });     \n    //   }\n    // }\n\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(['componentWillReceiveProps List'], nextProps.campaignList);\n\n      if (!this.state.campaignList) {\n        this.setState({\n          campaignList: nextProps.campaignList\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log('[List, RENDER] campaigns : ', this.state.campaigns);\n      var campaigns = null; //if(!this.state.clicked){\n\n      if (this.state.campaigns && this.state.campaigns.length != 0) {\n        console.log('[List Render] HEre');\n        var count = 0;\n        campaigns = this.state.campaigns.map(function (cpg) {\n          var campaign = null;\n          campaign = React.createElement(Campaign, {\n            key: cpg.id,\n            id: cpg.id,\n            url: _this3.props.match.url,\n            name: count++,\n            campaign: cpg,\n            onClick: _this3.campaignViewClickHandler,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          });\n          return campaign;\n        });\n      } else {\n        console.log('[List Render] MAYBE');\n        campaigns = React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \" No campaing List\");\n      } //} else{\n      // <Route path={this.props.match.url+'/view-campaign-list/:id'} \n      //                 render={()=> <ViewCampaign campaign = {this.state.campaigns[this.state.index]}/>}/>\n      // campaigns = <Route path={this.props.location.pathname+'/:cpg-id'} \n      //                 render={()=><ViewCampaign campaign = {this.state.campaigns[this.state.index]}/>}/>;\n      //}\n\n\n      console.log('[List]', this.props.match.url);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(PageHead, {\n        title: \"Campaign List\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, campaigns));\n    }\n  }]);\n\n  return CampaignList;\n}(Component);\n\nexport default withRouter(CampaignList);","map":{"version":3,"sources":["/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/containers/Manager/CampaignList/CampaignList.js"],"names":["React","Component","Campaign","PageHead","ViewCampaign","withRouter","Route","Switch","axios","CampaignList","state","campaignList","props","campaigns","clicked","index","campaignViewClickHandler","event","target","count","name","setState","console","log","get","then","response","x","data","campaignIndexes","newCampaigns","c","push","prevState","campaignSet","nextProps","length","map","cpg","campaign","id","match","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Campaign from \"../../../components/Campaign/Campaign\";\nimport PageHead from \"../../../components/Layout/PageHead/PageHead\";\nimport ViewCampaign from \"./ViewCampaign/ViewCampaign\"\nimport {withRouter, Route, Switch} from 'react-router-dom'\n\nimport axios from '../../../axios'\nclass CampaignList extends Component {\n  state = {\n    campaignList : this.props.campaignList,\n    campaigns:null,\n    clicked : false, \n    index : '',\n  };\n\n  campaignViewClickHandler=(event)=>{\n  \t\tconst target = event.target;\n  \t\tconst count = target.name;\n\n  \t\tthis.setState({index : count});\n  \t\tthis.setState({clicked:true});\n  }\n  getDerivedStateFromProps(props, state){\n    console.log('[List getDerivedStateFromProps', this.props.campaignList)\n  }\n  \n  componentDidMount(){\n    console.log(['List componentDidMount '], this.props.campaignList);\n\n    if(!this.state.campaigns&&this.props.campaignList){\n      \n      axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(response=>{\n          let x= response.data \n          let campaignIndexes = this.props.campaignList;\n          let newCampaigns = [];\n          for(let c in campaignIndexes){\n            if(x){\n              newCampaigns.push(x[campaignIndexes[c]]);\n            }\n          }\n\n          this.setState((prevState)=>({campaigns : newCampaigns}));\n          this.props.campaignSet(newCampaigns);\n      });     \n    }\n    \n  }\n\n  // componentDidUpdate(){\n  //   console.log(['List componentDidUpdate'], this.props);\n  //   if(!this.state.campaigns&&this.state.campaignList){\n  //     axios.get('https://cse308-de3df.firebaseio.com/campaigns.json').then(response=>{\n  //         let x= response.data \n  //         let campaignIndexes = this.state.campaignList;\n  //         let newCampaigns = [];\n  //         for(let c in campaignIndexes){\n  //           if(x){\n  //             newCampaigns.push(x[campaignIndexes[c]]);\n  //           }\n  //         }\n\n  //         this.setState((prevState)=>({campaigns : newCampaigns}));\n  //         this.props.campaignSet(newCampaigns);\n  //     });     \n  //   }\n    \n  // }\n\n  componentWillReceiveProps(nextProps){\n\n    console.log(['componentWillReceiveProps List'], nextProps.campaignList);\n\n    if(!this.state.campaignList){\n      this.setState({campaignList : nextProps.campaignList});\n    }\n  }\n\n  \n\n\n\n  render() {\n    console.log('[List, RENDER] campaigns : ',this.state.campaigns);\n  \tlet campaigns = null\n  \t//if(!this.state.clicked){\n  \tif(this.state.campaigns&&this.state.campaigns.length!=0){\n      console.log('[List Render] HEre');\n\t  \t\tlet count = 0;\n\t\t    campaigns = this.state.campaigns.map(cpg => {\n\t\t      let campaign = null;\n\t\t      campaign = <Campaign key={cpg.id} id={cpg.id} url={this.props.match.url} name = {count++} campaign={cpg} onClick={this.campaignViewClickHandler}/>;\n\n\t\t      return campaign;\n\t\t    });  \n\t\t} else{\n      console.log('[List Render] MAYBE');\n\t\t\tcampaigns = <h1> No campaing List</h1>\n\t\t}\n\n\n\t//} else{\n   // <Route path={this.props.match.url+'/view-campaign-list/:id'} \n      //                 render={()=> <ViewCampaign campaign = {this.state.campaigns[this.state.index]}/>}/>\n\t\t// campaigns = <Route path={this.props.location.pathname+'/:cpg-id'} \n  //                 render={()=><ViewCampaign campaign = {this.state.campaigns[this.state.index]}/>}/>;\n\t//}\n  console.log('[List]',this.props.match.url);\n    return (\n      <div>\n        <PageHead title=\"Campaign List\" />\n        <div className=\"row\">{campaigns}</div>\n      </div>\n\n    );\n  }\n}\n\nexport default withRouter(CampaignList);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/Campaign/ViewCampaign/VisitDurationSection.js\";\nimport React, { Component } from 'react';\nimport classes from './ViewCampaign.module.css';\nimport EditDuration from './EditComponents/EditDuration';\nimport axios from '../../../axios';\n\nvar VisitDurationSection =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VisitDurationSection, _Component);\n\n  function VisitDurationSection() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, VisitDurationSection);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(VisitDurationSection)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, _this.props, {\n      showEdit: false,\n      editedHour: '',\n      editedMin: ''\n    });\n\n    _this.onChangeHandler = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(VisitDurationSection, [{\n    key: \"showEditComponentHandler\",\n    value: function showEditComponentHandler() {\n      this.setState(function (prevState) {\n        return {\n          showEdit: true\n        };\n      });\n    }\n  }, {\n    key: \"editHandler\",\n    value: function editHandler() {\n      var _this2 = this;\n\n      var newDuration = this.state.editedHour + 'H ' + this.state.editedMin + 'M';\n      this.setState(function (prevState) {\n        return {\n          duration: newDuration,\n          showEdit: false\n        };\n      });\n      axios.put('/campaigns/' + this.props.id + '/duration.json/', JSON.stringify(newDuration)).then(function (response) {\n        console.log(\"Success\", _this2.state.duration);\n      }).catch(function (error) {\n        console.log(\"Error\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var showingComponent = this.state.showEdit ? React.createElement(EditDuration, {\n        editedHour: this.state.editedHour,\n        editedMin: this.state.editedMin,\n        onChange: this.onChangeHandler,\n        onClick: function onClick(event) {\n          return _this3.editHandler(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: ['text-center', classes.VDBody].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, this.state.duration);\n      var editButton = this.state.showEdit ? null : React.createElement(\"button\", {\n        className: \"btn btn-danger col-1\",\n        onClick: function onClick(event) {\n          return _this3.showEditComponentHandler(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"edit\");\n      return React.createElement(\"div\", {\n        className: [classes.VDSection, 'col-10', 'text-center'].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: ['row'].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: ['col-11', classes.Title].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Visit Duration\"), editButton), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, showingComponent));\n    }\n  }]);\n\n  return VisitDurationSection;\n}(Component);\n\nexport default VisitDurationSection;","map":{"version":3,"sources":["/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/Campaign/ViewCampaign/VisitDurationSection.js"],"names":["React","Component","classes","EditDuration","axios","VisitDurationSection","state","props","showEdit","editedHour","editedMin","onChangeHandler","event","setState","target","name","value","prevState","newDuration","duration","put","id","JSON","stringify","then","response","console","log","catch","error","showingComponent","editHandler","VDBody","join","editButton","showEditComponentHandler","VDSection","Title"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport classes from './ViewCampaign.module.css'\nimport EditDuration from './EditComponents/EditDuration'\nimport axios from '../../../axios'\nclass VisitDurationSection extends Component{\n\tstate = {\n\t\t...this.props,\n\t\tshowEdit : false,\n\t\teditedHour : '',\n\t\teditedMin : ''\n\t}\n\n\tshowEditComponentHandler(){\n\t\tthis.setState((prevState)=>({\n\t\t\tshowEdit: true\n\t\t}));\n\t}\n\n\tonChangeHandler=(event)=>{\n\t\tthis.setState({[event.target.name] : event.target.value});\n\t}\n\n\teditHandler(){\n\t\tlet newDuration = this.state.editedHour + 'H '+this.state.editedMin+'M'\n\t\tthis.setState((prevState)=>({\n\t\t\tduration : newDuration,\n\t\t\tshowEdit:false}));\n\n\t\t\n\t\taxios.put('/campaigns/'+this.props.id+'/duration.json/', JSON.stringify(newDuration)).then( response => {  \n\t              console.log(\"Success\", this.state.duration);\n\t      })\n\t      .catch( error => {\n\t          console.log(\"Error\", error);\n\t    });\n\n\t}\t\n\n\trender(){\n\n\t\tlet showingComponent = this.state.showEdit? <EditDuration editedHour = {this.state.editedHour} editedMin = {this.state.editedMin} onChange = {this.onChangeHandler} onClick={(event)=>this.editHandler(event)}/> \n\t\t\t\t\t\t\t\t\t\t\t\t  :(<div className = {['text-center', classes.VDBody].join(' ')}>{this.state.duration}</div>) ;\n\n\t\tlet editButton = this.state.showEdit ? null :(<button className = 'btn btn-danger col-1' onClick = {(event)=>this.showEditComponentHandler(event)}>edit</button>) ;\n\t\treturn(\n\t\t\t<div className = {[classes.VDSection, 'col-10', 'text-center'].join(' ')}>\n\t\t\t\t<div className = {['row'].join(' ')}>\n\t\t\t\t\t<h4 className={['col-11', classes.Title].join(' ')}>Visit Duration</h4> \n\t\t\t\t\t{editButton}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className = 'row justify-content-center'>\n\t\t\t\t\t{showingComponent}\n\t\t\t\t</div>\n\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default VisitDurationSection;"]},"metadata":{},"sourceType":"module"}
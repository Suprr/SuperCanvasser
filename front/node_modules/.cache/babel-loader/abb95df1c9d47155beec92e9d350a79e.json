{"ast":null,"code":"import _objectSpread from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/Campaign/ViewCampaign/DateSection.js\";\nimport React, { Component } from 'react';\nimport classes from './ViewCampaign.module.css';\nimport EditDateSection from './EditComponents/EditDateSection';\nimport moment from 'moment';\nimport axios from '../../../axios';\nimport dateFns from 'date-fns';\n\nvar DateSection =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateSection, _Component);\n\n  function DateSection() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DateSection);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DateSection)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, _this.props, {\n      showEdit: false,\n      editedStartDate: '',\n      editedEndDate: '' //It must be moment variable \n\n    });\n\n    _this.startDatapickerHandler = function (newDate) {\n      _this.setState({\n        editedStartDate: newDate\n      });\n    };\n\n    _this.endDatapickerHandler = function (newDate) {\n      _this.setState({\n        editedEndDate: newDate\n      });\n    };\n\n    _this.editTimeHandler = function (event) {\n      if (_this.state.editedStartDate != '' && _this.state.editedEndDate != '') {\n        _this.setState(function (prevState) {\n          return {\n            startDate: _this.state.editedStartDate._d.toDateString().format('MM dd yyyy'),\n            endDate: _this.state.editedEndDate._d.toDateString('MM dd yyyy'),\n            showEdit: false\n          };\n        });\n      } else {\n        _this.setState(function (prevState) {\n          return {\n            showEdit: false\n          };\n        });\n      }\n\n      axios.put('/campaigns/' + _this.props.id + '/startDate.json/', JSON.stringify(_this.state.editedStartDate._d.toDateString())).then(function (response) {\n        console.log(\"Success\", _this.state.startDate);\n      }).catch(function (error) {\n        console.log(\"Error\", error);\n      });\n      axios.put('/campaigns/' + _this.props.id + '/endDate.json/', JSON.stringify(_this.state.editedEndDate._d.toDateString())).then(function (response) {\n        console.log(\"Success\", _this.state.endDate);\n      }).catch(function (error) {\n        console.log(\"Error\", error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DateSection, [{\n    key: \"showEditComponentHandler\",\n    value: function showEditComponentHandler() {\n      this.setState(function (prevState) {\n        return {\n          showEdit: true\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var dateSectionComponent = null;\n\n      if (this.state.showEdit) {\n        dateSectionComponent = React.createElement(EditDateSection, {\n          startName: \"editedStartDate\",\n          startDate: this.state.editedStartDate,\n          endName: \"editedEndDate\",\n          endDate: this.state.editedEndDate,\n          onChangeStart: this.startDatapickerHandler,\n          onChangeEnd: this.endDatapickerHandler,\n          onClick: this.editTimeHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n      } else {\n        dateSectionComponent = React.createElement(\"div\", {\n          className: \"row justify-content-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: ['text-center', classes.DateBody].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: ['row', classes.Date].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: ['col-6', classes.DateHead].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Start Date\"), React.createElement(\"div\", {\n          className: ['col-6', classes.DateTime].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, this.state.startDate)), React.createElement(\"div\", {\n          className: ['row', classes.Date].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: ['col-6', classes.DateHead].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"End Date\"), React.createElement(\"div\", {\n          className: ['col-6', classes.DateTime].join(' '),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, this.state.endDate))));\n      }\n\n      var showEditButton = this.state.showEdit ? null : React.createElement(\"button\", {\n        className: \"btn btn-danger col-1\",\n        onClick: function onClick(event) {\n          return _this2.showEditComponentHandler(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"edit\");\n      return React.createElement(\"div\", {\n        className: [classes.DateSection, 'col-10', 'text-center'].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: ['row'].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: ['col-11', classes.Title].join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Dates\"), showEditButton), dateSectionComponent);\n    }\n  }]);\n\n  return DateSection;\n}(Component);\n\nexport default DateSection;","map":{"version":3,"sources":["/Users/wongeun/Desktop/2018Fall/supercanvasser/front/src/components/Campaign/ViewCampaign/DateSection.js"],"names":["React","Component","classes","EditDateSection","moment","axios","dateFns","DateSection","state","props","showEdit","editedStartDate","editedEndDate","startDatapickerHandler","newDate","setState","endDatapickerHandler","editTimeHandler","event","prevState","startDate","_d","toDateString","format","endDate","put","id","JSON","stringify","then","response","console","log","catch","error","dateSectionComponent","DateBody","join","Date","DateHead","DateTime","showEditButton","showEditComponentHandler","Title"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport classes from './ViewCampaign.module.css'\nimport EditDateSection from './EditComponents/EditDateSection'\nimport moment from 'moment';\nimport axios from '../../../axios'\nimport dateFns from 'date-fns'\n\nclass DateSection extends Component{\n\tstate={\n\t\t...this.props,\n\t\tshowEdit : false,\n\t\teditedStartDate : '',\n\t\teditedEndDate : '', \n\t\t//It must be moment variable \n\n\t}\n\n\tshowEditComponentHandler(){\n\n\t\tthis.setState((prevState)=>({\n\t\t\tshowEdit: true\n\t\t}));\n\t}\n\n\tstartDatapickerHandler=(newDate)=>{\n   \t \tthis.setState({editedStartDate: newDate});\n\t}\n\tendDatapickerHandler=(newDate)=>{\n   \t \tthis.setState({editedEndDate: newDate});\n\t}\n\n\teditTimeHandler = (event) =>{\n\t\tif(this.state.editedStartDate!=''&&this.state.editedEndDate!=''){\n\t\t\n\t\t\tthis.setState((prevState)=>({\n\t\t\t\tstartDate : this.state.editedStartDate._d.toDateString().format('MM dd yyyy'),\n\t\t\t\tendDate : this.state.editedEndDate._d.toDateString('MM dd yyyy'),\n\t\t\t\tshowEdit:false}));\n\t\t} else{\n\t\t\tthis.setState((prevState)=>({\n\t\t\t\tshowEdit:false\n\t\t\t}));\n\t\t}\n\n\t\t\n\t\taxios.put('/campaigns/'+this.props.id+'/startDate.json/', JSON.stringify(this.state.editedStartDate._d.toDateString())).then( response => {  \n\t              console.log(\"Success\", this.state.startDate);\n\t      })\n\t      .catch( error => {\n\t          console.log(\"Error\", error);\n\t    });\n\n\n\t\taxios.put('/campaigns/'+this.props.id+'/endDate.json/', JSON.stringify(this.state.editedEndDate._d.toDateString())).then( response => {  \n\t              console.log(\"Success\", this.state.endDate);\n\t      })\n\t      .catch( error => {\n\t          console.log(\"Error\", error);\n\t    });\n\n\t}\n\n\trender(){\n\t\tlet dateSectionComponent = \tnull\n\t\tif(this.state.showEdit){\n\t\t\tdateSectionComponent = <EditDateSection startName = 'editedStartDate' startDate = {this.state.editedStartDate}\n\t\t\t\t\tendName = 'editedEndDate' endDate = {this.state.editedEndDate}\n\t\t\t\t  onChangeStart = {this.startDatapickerHandler} onChangeEnd ={this.endDatapickerHandler} onClick={this.editTimeHandler} /> \n\t\t}else{\n\t\t\tdateSectionComponent = (\n\t\t\t\t<div className = 'row justify-content-center'>\n\t\t\t\t\t<div className = {['text-center', classes.DateBody].join(' ')}>\n\t\t\t\t\t\t<div className = {['row', classes.Date].join(' ')}>\n\t\t\t\t\t\t\t<div className = {['col-6', classes.DateHead].join(' ')}>Start Date</div>\n\t\t\t\t\t\t\t<div className = {['col-6', classes.DateTime].join(' ')}>{this.state.startDate}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className = {['row', classes.Date].join(' ')}>\n\t\t\t\t\t\t\t<div className = {['col-6', classes.DateHead].join(' ')}>End Date</div>\n\t\t\t\t\t\t\t<div className = {['col-6', classes.DateTime].join(' ')}>{this.state.endDate}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet showEditButton = this.state.showEdit? null : <button className = 'btn btn-danger col-1' onClick={(event)=>this.showEditComponentHandler(event)}>edit</button>;\n\t\treturn(\n\t\t\t\n\t\t\t<div className = {[classes.DateSection, 'col-10', 'text-center'].join(' ')}>\n\t\t\t\t<div className = {['row'].join(' ')}>\n\t\t\t\t\t<h4 className={['col-11', classes.Title].join(' ')}>Dates</h4> \n\t\t\t\t\t{showEditButton}\n\t\t\t\t</div>\n\t\t\t\t{dateSectionComponent}\n\n\t\t\t</div>\n\t\t\t\t\n\t\t);\n\t}\n\n}\n\nexport default DateSection;"]},"metadata":{},"sourceType":"module"}